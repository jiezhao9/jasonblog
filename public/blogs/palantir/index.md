5000字拆解 Palantir 产品与本体论

[点击此处查看图文完整版](https://mp.weixin.qq.com/s/SXPfiqh0-Mw9nNBDs4QfKg) 

[Palantir 商业成功的原因探究](https://mp.weixin.qq.com/s/TTi2aq8dXq1-QMCAWzCNKQ)

 
全文约4800字，期待与同们的交流~  目录速览：

- Palantir公司历史回顾
- 产品矩阵概览
- 本体论是什么，是独创的吗
- 是个不折不扣的BI平台
- 分析与业务动作的联合
- 对AI的拥抱与FOMO

 
近期本体论一词有点火，本文也来尝试讨论下这个概念以及Palantir公司（以下简称PLTR）基于这个理论构建的数据产品Foundry。


# 公司历史与股市表现
PLTR ，一家美国公司，成立于2003年（距今22年），早期为政府单位提供大数据解决方案，后期也面向商业企业提供服务，涵盖国防、安全、金融、医疗等领域。 创始人是PayPal黑帮成员之一的彼得·蒂尔。

Palantir 这个名称来源于 J.R.R. 托尔金奇幻史诗巨著《魔戒》中的神奇物品——真知晶球。这是一个人为创造的词汇，大致意为“远见之物”或“能望远者”。

公司2020年上市，2024年度营收在28亿美元规模，人均产值70万美元（公开信息显示员工数量在4000左右），对应的利润为10亿美元左右，当前市盈率（TTM口径）是551。同期Salesforce 跟微软的市盈率分别是34、37。

# 产品功能矩阵概览
PLTR核心产品包括面向商业客户的 Foundry 平台 和面向政府客户的 Gotham 平台。官网公开的产品资料主要是Foundry 产品，因此本文的关注重点也是这个产品。

Foundry一词是铸造场的意思。单从名称上看，跟微软的Data Factory 就有一些接近。 在我们翻阅完其200+帮助中心文档后，我们认为这是一个带着一对翅膀的数据中台。

左翅膀：在数据分析看板中支持调用外部系统API，实现看数与决策执行的链路联通。
右翅膀：更灵活、低门槛的页面定制能力。 比如去修改可视化展现的方式，去定义一个专题的小型业务系统，比如选址。
关于数据中台的介绍，可以参照我们前期的文章数据中台十周年，此处就不再赘述。

  

20年的项目积累使得Foundry成为一个包罗万象的数据产品套件。

- Data Connectivity & Integration： 数据连接、集成、处理模块，就是传统的ETL概念；也支持实时数据的接入。支持对接近160多种数据库；为了满足客户需求，还专门开发了与SAP对接的插件。数据存储用了HDFS作为解决方案。 这些处理好的数据，也支持被PowerBI、Tableau进行消费。
- Ontology 本体论： 数字孪生模块，支持基于各类业务系统中的数据表构建逻辑模型，实现与真实世界各类物体（比如机场、航班）、事件（比如航班、延误预警）一一对应。
- Analytic ：分析模块，与常规的BI分析基本一致，也做出了相应的特色，比如支持业务流的展现，与业务系统的一键协同。
- AI Platform：包含基础的AI能力，实现机器学习、预测、策略优化等能力；大模型兴起之后，也新增了各类模型的对接部署、监控、调用能力。
- Market Place ： 应用市场能力，快速获取开箱即用的模板，减少交付实施成本。 也支持一些集团型公司向子公司快速传递数据处理、数据展现资源包。
- Developer Toolchain： 开发者工具链，看名称就不一般。 正是基于此项能力，实现应用层的 Operation 能力，从看数到执行（数据回写Write Back）。
- Security & Governance：安全管控能力，企业级数据软件的必选项。

当然20年的发展历程中也会有些产品模块被淘汰，PLTR也不是一直在做正确的事情：） 有些早期推出的产品模块，也进入了维护期，不再更新。比如报告Report功能（应该是被仪表盘功能取代了），表单填报功能。

# 本体论 Ontology是什么
Ontology, build and manage your organization's digital twin.

Palantir Ontology 定位为组织的操作层。Ontology 位于集成到Palantir平台中的数字资产（数据集和模型）之上，并将它们与真实世界的对应物连接起来，从工厂、设备、产品等物理资产到客户订单或金融交易等概念。在许多情况下，Ontology 充当组织的数字孪生体，包含启用各种应用案例所需的语义元素（objects、属性、链接）和动态元素（操作、函数、动态安全机制）。

## 实现真实世界的数字化建模
Ontology具体做了什么事情？ 我们结合航班延误这个场景举例。

- 定义实体类型 Obejct Type
  - 如机场、航班、航线、航空器、延误这些实体
  - 对应数据表里的一行就是 Object 的实例
- 定义Object 的属性
  - 比如机场的名称，机场的缩写，容量大小
- 定义实体类型之间的关系
  - 如一个机场每一天都有很多航班
- 定义实体类型的可操作类型
  - 如可以修改某个航班的执行飞行器（换飞机），修改某个预警事件的严重等级。

这些实体的背后都跟实际的数据一一对应。

 
图片
Ontology 建模示例


## 更业务化的数据展现方式
工具型软件产品如何体现业务价值，Foundry提供了一些思路。

### 维度属性与关系展现
传统的分析系统仅仅考虑了数据表数据的展现，却缺少业务视角的呈现。比如BI产品的可视化类型里有指标卡，可以展现一个总收入；但是基本没有维度属性卡这样的概念，用来展示文本类的信息。比如想展示一个店铺的基础信息， 解决方案可能只有表格； 或者用体验糟糕的方式来拼接出一个文本。

图片
PLTR Ontology 中对于一个机场的信息展示页面

### 基于业务流展现数据
如果说Ontology是基于技术视角来描述企业，那么子模块Vertex就是基于Ontology中定义的实体来做业务化呈现。他可以把多个有关系的实体进行串联，用业务流程的思路来进行展现。比如一个机场有对应的航班，能显示航班的状态，并根据配置的阈值进行预警。

对比之下传统的数据平台通常提供的是基于技术视角的数据血缘能力。



图片
Vertex 功能示例： 机场航班案例



图片
Vertex 功能示例：电池生产线， 支持查看某设备传感器的温度。



杰森认为这其实应该是业务系统要做的事情？ 比如钢铁生产监控软件，应该默认就包含这些？或许这些老旧的软件的可定制，二次开发能力太弱，以至于后起之秀有了可乘之机。 

## 本体论的独创性探讨
有一篇文章提到PLTR的护城河是Ontology（本体论）。 PLTR当下的影响力最强，他们自然而然地成为这个理论的布道者。 如果说产品能力是数字1，那么这个理论就是后面的1个0或者2个0， 也是他们获取超额项目收益的原因所在。

数据行业的长期从业者（有一些喜欢自称数据老兵）大概率不会认为这个本体论是PLTR的原创。成立于1990年之前，在2000年前就上市的独立数据分析软件厂商MicroStrategy（目前也是一家很火的公司，因为他们核心商业模式已经转型到比特币）产品中也践行了这些理念。在他们的设想中，不同环节做不同的事情。 

- 业务系统 Source System：把真实世界的业务数字化 

- 数据仓库 Data Warehouse： 把业务系统数据处理干净 

- 分析系统 BI ：把多个可信赖的数仓数据关联，破除数据孤岛，能够呈现一个单一实体的完整面貌。

在MicroStrategy数据产品中，也支持实体的定义，实体属性的定义、实体之间关系的定义；基于这些定义可以快速在仪表盘上进行数据呈现，之类各类粒度的聚合关联。

图片
MicroStrategy产品的本体论实践

很巧合的是这两家公司 都挺喜欢用机场、航班这些案例。 或许是搞ToB的人经常飞来飞去，对这个场景最为熟悉，哈哈。

# 不折不扣的分析与展现系统
之所以说Foundry是个不折不扣的分析与展现系统，是因为他足足提供了5款分析工具。

## Quiver
支持对Object对象（也就是Ontology建模的劳动成果）与关系进行可视化展现。
把基于时间序列的分析做了“提级”，用户体验上会更好，比如预置累计计算、窗口计算能力。
提供画布Canvas 与 图形 Graph两种模式，前者就是我们常见的仪表盘；后者更像是一个分析树。

图片
分析功能Quiver 示例

图片
Quiver 时间序列分析



## Code Workspaces 代码工作簿
类似Jupyter notebook ，主要用Python来处理、展示数据，并支持处理流的编排。

## Notepad 记事本
是一个富文本编辑器，支持载入其他 Foundry 应用程序的输出结果，如 Contour、Quiver、Code Workbook 和 Object Explorer（建模对象的详情页面）。

图片




## Fusion
一个以电子表格为驱动的应用，将表格计算与Foundry的Ontology和Object驱动查询系统的强大功能相结合。Excel 是如此的强大，以至于经常得到各种下一代产品都还需要致敬。

## Contour
支持基于表进行数据分析，不一定使用到 Ontology的建模结果（比如是临时导入的Excel分析） ； 也包含相应的数据清理能力（比如合并，过滤等）。





对于更灵活的分析展示需求， Foundry提供了Slate 产品能力 。 开发者可以使用 CSS 自定义应用的风格，更灵活响应个性化的展示需求。按官网介绍，基于 Slate，用户所看到的一切都可以更改，从画布的背景颜色到按钮的字体和边框半径。



其他自动化推送、预警功能作为商业智能软件的基础功能，也没有例外地出现在Foundry产品中。



# 分析与业务动作的联动
> Supercharge your business intelligence (BI) and analytics ecosystem with dynamic, decision-making workflows. Palantir Foundry ensures that your user applications can scale without fracturing your core data and model foundation.

在分析仪表盘功能Quiver中，还支持按钮能力，支持与业务系统的联动。 按钮支持两种模式，分别是 write back 跟 side effect， 前者会等待回写状态，而side effect只是推送一个消息。

关于与业务系统的联动，曾经也有个蛮流行的概念，是反向ETL，就是在数据处理类产品中，支持把数据再回传到业务系统，或者直接利用API去修改业务系统的数据。不少产品提供的解决方案是数据同步，这真的是一个过于技术化的解决方案了。

如果是更复杂的数据展现与业务流程整合需求，就需要借助Workshop模块。这是在Foundry产品中一个灵活的面向对象的应用程序搭建工具，支持将对象、链接和操作编织成用户驱动的工作流，远远超越了仪表盘或被动可视化。


 
上图是一个航班预警页面，既有分析看板，也有业务操作流程，比如提升某个预警等级或者降低预警等级。

正是基于Workshop能力，Foundry可以帮助客户快速落地一些专业的数据类产品，比如供应链优化、门店选址等能力；相比单独的分析看板，也能够让数据项目的价值放大，获取高额的商业回报。



## 为什么PLTR没有把手伸进业务系统
定义实体、实体之间的关系并不难，基础的分析系统并不难，难的是面对灵活多变分析需求，后台服务能准确从相应数据源取数并完成计算。 

PLTR做了这么多难的事情，为什么没有深入到业务系统的建设中？

或许因为数据系统与业务系统还是存在差异，两者共同点是对实体的清晰定义，而业务系统还需要处理各类规则与策略。 如果要再做一个SAP，他可能还需要20年时间。 这大概也是阿里云这样的厂商降低所谓业务中台优先级的原因。当然如果他做业务系统，应该也是从本体论出发，现有逻辑概念，然后再落地业务系统。

AI时代，大模型具备了Tool Use能力，有能力连接所有数字化工具，完成真实世界里的任务。但是业务系统价值还会继续存在，业务系统中配置的所有限制规则，多人审批策略是智能体破坏真实世界前的一道防线。即使未来AI可以创建业务系统或者智能体Agent本身就是业务系统，但被发现他无法满足人类期待时，他还是会被修正、优化或者推倒重来。



 
认证过的Software 是保护真实世界的一道防线

# 对AI的拥抱与FOMO
PLTR早期产品模块里就支持经典的AI功能，包括机器学习、预测与优化等。传言 Palantir 还是当年美军抓本拉登的得力干将。 他通过分析海量的卫星图像，发现在深山的废弃屋舍旁出现了人类垃圾，判断本拉登可能藏匿于此，美军因此得以抓捕本拉登。这里应用的能力是对图片数据的处理与解读，并不是经典的数据分析产品的功能边界。

随着大语言模型的繁荣， 在Foundry诸多产品模块里都支持了大模型帮助用户决策，并提供用户Review后执行相关动作的能力。 比如下图演示了一个供应链管理场景中的调拨策略建议，正等待用户确认。

图片
Foundry产品中的智能应用——供应链库存调拨
当然这个能力背后需要前置对应的提示词。

图片
Foundry AIP功能中的提示词示例
能感觉到 PLTR 对于 LLM 跟其他软件厂商一样，都是FOMO的心态，担心错失这样几十年一遇的风口，甚至都上线了跟传统意义理解的数据没有直接关系的功能。

比如AI Thread 功能，该功能支持从一堆PDF里获取洞察，找到答案。 实际应用场景包括从设备技术手册与指南快速查询答案、快速提取并总结情报简报中的关键信息、总结和解读立法文本和政策文件。这类功能与本体论关系目前没有足够信息判断，或许Ontology里的配置可以作为一种知识库成为LLM的输入。

可能也没其他更多可以创新、可以探索的领域，LLM在Foundry产品中也是“无孔不入”。比如在文档型分析报告里，就支持自动进行拼写检查、缩短、修改或翻译文本，同时保留其现有格式。



## Palantir 对于ChatBI的投入
同期Tableau、PowerBI都推出了ChatBI相关功能。可能是自己搜索能力不强，目前没有捕捉到Foundry产品中有类似的功能，期待捕捉到这块信息的读者可以协助纠正。





# 总结
PLTR在传统的BI类、数据开发类产品中提供了两大差异化的能力，值得数据行业从业者的关注。

数据分析看板中支持调用外部系统的能力，实现了看数系统与业务系统的联动，使得数据不再割裂之外，业务流也不再割裂。
灵活低门槛的页面定制能力，是其获得商业化成功（虽然才上市2年，我们姑且称之为成功哈）的一个有利保障；能够实现深度定制化需求的可控成本的交付。
大而全的产品套件模式还将继续，包括Palantir的Foundry产品，微软的Data Factory、Databricks 商业化产品套件走的都是这个模式。



数据中台还重要吗？杰森认为是的。AI要进入到一个更高的阶段，就更需要直接从物理世界获取更全面、更原始的数据。让AI能更准确地去理解数据，去理解数据背后的真实物理世界。



逻辑层的重要性还是存在。 当一堆系统出现时，而且发现整合不动的时候，更上一层的系统来做逻辑化的建模时机也就到来了。比如出现支付聚合功能，聚合打车功能，这个在AI、LLM时代大概率也会出现，让我们拭目以待。



通过逻辑层，把繁杂的系统之间交互关系进行简化 


[点击此处查看图文完整版](https://mp.weixin.qq.com/s/SXPfiqh0-Mw9nNBDs4QfKg) 



衍生阅读：

如果大家对于Palantir员工的工作方式、企业文化感兴趣，可以点击[此处](https://mp.weixin.qq.com/s/W-6xEuePzBQerbqRT8kU8g?scene=25&sessionid=#wechat_redirect)，获取相关信息。原作者是Nabeel S. Qureshi，2015-2023年任职于 Palantir，原文写于2024年10月。